# Алгоритм DBSCAN

## Гиперпарметры

1) $eps$ - размер области вокруг вершины
2) M - кол-во соседей

## Определения

1) **Непосредственно достижимая точка**: $p$ является ***непосредственно достижимой*** из $q$, если
   * $p \in N_e(q)$
   * $|N_e(p)| >= M$

    ![DBSCAN Dots 1](assets/DBScan1.png)

2) **Достижимость**: p ***достижима*** из q, если $\exists{a_i}$, где $a_i$ ***непосредственно достижима*** из $a_{i-1}$
    * Пояснение: Если мы сможем покрыть две вершины каким-то множеством кружочков (кружочки пересекаются), то точки достижимы.

    ![DBSCAN Dots 2](assets/DBScan2.png)

3) **Связные точки**: точка B ***связна*** с точкой C, если $\exists A$, что точки C и B ***достижимы*** из точки A.

    ![DBSCAN Dots 3](assets/Sv.png)

4) **Шум** - это точка, когда $|N_e(q) < M|$

5) **Клатер** - это непустное множество точек, в котором выполняются условия:
    * $\forall p, q: p \in C_j$, q - ***достижима*** из p => $q \in C_j$
    * $\forall p, q \in C_j:$ p ***связна*** с q

## Алгоритм

```python
def main(D, eps, M):
    foreach d_i in D: V[d_i] = false, j = 0, Noise = {}
    for d_i in D:
        if V[d_i] == False:
            V[d_i] = True
            N_i = N_eps(d_i)
            if len(N_i) < M:
                Noise += {d_i}
            else:
                expand(d_i, N_i, C_j, eps, M)C = {C_j}
                j+=1
    return C = {C_j}
```

```python
def expand(d_i, N_i, C_j, eps, M):
    C_j += {d_i}
    for d_k in N_i:
        if V[d_k]== False:
            V[d_k] = True
            N_ik = N_eps(d_k)
            if |N_ik| >= M:
                N_i += N_ik
        
        if d_k not in Any C:
            C_j += {d_i}
    return C = {C_j}
```

## Плюсы

1) Число класификаторов определяется автоматически
2) Формы и размеры кластеров могут быть разными

## Минусы

1) Всего два гиперпараметра
2) Для данных с разной плотностью будет сложно подбирать гиперпараметры
3) Медленный
